<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.53"><link rel=author href=../../humans.txt><link rel=icon href=../../images/kit_logo.png><title>Refactoring Code - Day 1 - Cơ bản về refactoring - KhanhIceTea B(rain)-log</title><meta property=og:title content="Refactoring Code - Day 1 - Cơ bản về refactoring - KhanhIceTea B(rain)-log"><meta property=og:type content=article><meta property=og:url content=https://khanhicetea.com/post/refactoring-code-day-1/><meta name=description content="Improving the design of existing code - my learning"><meta property=og:description content="Improving the design of existing code - my learning"><meta property=og:image content=https://khanhicetea.comimages//images/2019/01/refactoring-code.jpg><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.0.13/css/all.css integrity=sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp crossorigin=anonymous><link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,500,700,700i&amp;subset=vietnamese" rel=stylesheet><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css><link href="../../css/medium.css?v=1560872668" rel=stylesheet><link href="../../css/additional.css?v=1560872668" rel=stylesheet></head><body><nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down"><div class="container pr-0"><a class=navbar-brand href=https://khanhicetea.com><img src=../../images/kit_logo.png alt=logo>
<span>KhanhIceTea B(rain)-log</span></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarMediumish aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarMediumish><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=../../>Home</a></li><li class=nav-item><a class=nav-link href=https://github.com/khanhicetea>Github</a></li><li class=nav-item><a class=nav-link href=../../php-0-to-1/>Learn PHP</a></li><li class=nav-item><a class=nav-link href=../../til/>Today I Learned</a></li></ul></div></div></nav><div class=site-content><div class=container><div class=main-content><div class=container><div class=row><div class="col-lg-2 col-md-0 pl-0"><div class=share><p>Share</p><ul><li class="ml-1 mr-1"><a target=_blank href="https://twitter.com/intent/tweet?text=Refactoring%20Code%20-%20Day%201%20-%20C%c6%a1%20b%e1%ba%a3n%20v%e1%bb%81%20refactoring&url=https%3a%2f%2fkhanhicetea.com%2fpost%2frefactoring-code-day-1%2f" onclick="window.open(this.href,'twitter-share','width=550,height=435');return false;"><i class="fab fa-twitter"></i></a></li><li class="ml-1 mr-1"><a target=_blank href="https://facebook.com/sharer.php?u=https%3a%2f%2fkhanhicetea.com%2fpost%2frefactoring-code-day-1%2f" onclick="window.open(this.href,'facebook-share','width=550,height=435');return false;"><i class="fab fa-facebook-f"></i></a></li><li class="ml-1 mr-1"><a target=_blank href="https://plus.google.com/share?url=https%3a%2f%2fkhanhicetea.com%2fpost%2frefactoring-code-day-1%2f" onclick="window.open(this.href,'google-share','width=550,height=435');return false;"><i class="fab fa-google"></i></a></li></ul><div class=sep></div><ul><li><a class="small smoothscroll" href=#disqus_thread></a></li></ul></div></div><div class="col-lg-10 col-md-12 flex-first flex-md-unordered"><div class=mainheading><h1 class=posttitle>Refactoring Code - Day 1 - Cơ bản về refactoring</h1></div><div class=post-top-meta><i class="far fa-keyboard"></i>Jan 14, 2019
<i class="far fa-clock clock"></i>6 mins read
<i class="fas fa-code-branch git-commit-hash"></i><a class=git-commit-hash-link title="[2019-01-15 16:00:10 &#43;0700 &#43;0700] rename title of refactoring" href=https://github.com/khanhicetea/.com/blob/fdcb082e29a59fbe96b810b72cd1339a1cd9c7d1/content/post/Refactoring-Code-Day-1.md target=_blank>fdcb082e2</a></div><img class="featured-image img-fluid" src=../../images/2019/01/refactoring-code.jpg alt="thumbnail for this post"><div class=article-post><p>Hôm rài qua nha ông anh chôm (mượn) được cuốn sách kinh điển gối đầu giường của dân Dev. Cuốn sách này là &ldquo;REFACTORING&rdquo; của Martin Fowler bản năm 1999 hướng dẫn trên ngôn ngữ Java (có bản 2018 mới trên cũng trên nền Java&hellip; nhưng thêm chữ Script 😁 - JavaScript, nhưng theo mình cảm nhận thì nó không tường minh như là trên Java). Và đây là bìa cuốn sách:</p><p><img src=../../images/2019/01/refactoring-book-cover.jpg alt="Refactoring Book Cover 1999"></p><p>Hôm nay mình đọc được hết phần 1 gồm 52 trang đầu của sách và cảm nhận được mình học được rất nhiều từ phần này, sau đây là những ghi chép ngẫu hứng tóm tắt lại phần I của mình:</p><ol><li><p>Refactoring bản chất là thay đổi cấu trúc code bên trong nhưng không thay đổi hành vi bên ngoài của code. (Nôm na là bạn học nhiều sẽ thông minh ra nhưng cơ thể bên ngoài vẫn phải vậy) =&gt; Vì thế đòi hỏi việc đầu tiên và quan trọng nhất trước khi refactoring là phải có một bộ test tốt.</p></li><li><p>Nhịp điệu chính (thần chú bạn luôn nên nhớ) khi làm refactoring là thay đổi nhỏ -&gt; test -&gt; thay đổi nhỏ -&gt; test -&gt; thay đổi nhỏ -&gt; &hellip; -&gt; hoàn thành -&gt; commit</p></li><li><p>Code tốt là code tự nó giải thích được bản thân nó là gì, làm gì và chạy ra sao. Và chìa khoá trong việc này là cách đặt tên biến và phương thức. (nếu mọi thứ chưa tường minh thì mới dùng comments) =&gt; Đừng ngại trong việc đổi tên nếu nó làm code tường minh, rõ ràng hơn.</p></li><li><p>Nên giải thoát cho các biến tạm thời không cần thiết, vì nó có thể bị lãng quên và dễ nảy sinh ra vấn đề sau này. =&gt; Có thể áp dụng chiến thuật &ldquo;Replace Temp with Query&rdquo;</p></li><li><p>Đừng ngại refactoring sẽ làm chậm chương trình cho tới khi bạn có số liệu profiler chính xác. Và lúc đó thì chuyện tối ưu cũng sẽ dễ hơn là tối ưu trên một đống hỗn tạp phải không?! =&gt; Khi refactoring thì tính rõ ràng được ưu tiên hơn hiệu suất.</p></li><li><p>Ưu tiên tách business logic ra khỏi giao diện để nâng cao tính tái sử dụng.</p></li><li><p>Và cuối cùng nhưng không kém quan trọng là mục tiêu chính của refactoring:</p><ul><li>Làm code tinh gọn hơn</li><li>Rõ ràng hơn, minh bạch hơn (No magic)</li><li>Dễ test hơn</li><li>Sẵn sàng cho những thay đổi trong tương lai hơn</li></ul></li></ol><p>PHẦN NÀY TỚI ĐÂY LÀ HẾT RÙI !!</p><hr><p>Nếu bạn muốn mua và tìm đọc cuốn sách thì nhấn <a href=https://www.amazon.com/Refactoring-Improving-Design-Existing-Code/dp/0201485672>vào đây</a></p><p>Ref:</p><ul><li>Cover photo from Google Search</li><li>&ldquo;Refactoring - Improving Design Existing Code&rdquo; book cover from <a href=https://www.amazon.com/Refactoring-Improving-Design-Existing-Code/dp/0201485672>Amazon</a></li></ul></div><div class=after-post-tags><ul class=tags><li><a href=../../tags/refactoring>refactoring</a></li><li><a href=../../tags/code>code</a></li><li><a href=../../tags/clean>clean</a></li><li><a href=../../tags/test>test</a></li><li><a href=../../tags/design>design</a></li><li><a href=../../tags/vietnamese>vietnamese</a></li></ul></div><div class="row PageNavigation d-flex justify-content-between font-weight-bold"><a class="prev d-block col-md-6" href=../../post/refactoring-code-day-2/>&laquo; Refactoring Code - Day 2 - Các nguyên lý cơ bản trong refactoring</a>
<a class="next d-block col-md-6 text-lg-right" href=../../post/saas-multitenant-architecture-part-1/>SaaS Multi-tenant Architecture - Part 1 &raquo;</a><div class=clearfix></div></div><div style=margin-top:10px;margin-bottom:10px><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-6074006947927745 data-ad-slot=8493558457 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div></div></div><div class=container><div id=comments class="row justify-content-center mb-5"><div class="col-lg-2 col-md-0"></div><div class="col-lg-10 col-md-12"><div id=disqus_thread></div><script type=text/javascript>(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='khanhicetea';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div></div><div class="jumbotron fortags"><div class="d-flex h-100"><div class="col-md-4 align-self-center text-center h-100"><div class="d-flex align-items-center justify-content-center h-100"><h2 class="d-md-block d-none align-self-center">Explore →</h2></div></div><div class="col-md-8 align-self-center text-center"><a href=../../tags/sysadmin>sysadmin [39]</a>
<a href=../../tags/english>english [27]</a>
<a href=../../tags/vietnamese>vietnamese [20]</a>
<a href=../../tags/php>php [16]</a>
<a href=../../tags/bash>bash [15]</a>
<a href=../../tags/life>life [15]</a>
<a href=../../tags/web>web [14]</a>
<a href=../../tags/docker>docker [13]</a>
<a href=../../tags/devops>devops [11]</a>
<a href=../../tags/javascript>javascript [11]</a>
<a href=../../tags/linux>linux [11]</a>
<a href=../../tags/python>python [11]</a>
<a href=../../tags/mysql>mysql [10]</a>
<a href=../../tags/networking>networking [10]</a>
<a href=../../tags/database>database [9]</a>
<a href=../../tags/security>security [7]</a>
<a href=../../tags/shell>shell [7]</a>
<a href=../../tags/ci>ci [5]</a>
<a href=../../tags/debug>debug [5]</a>
<a href=../../tags/dns>dns [5]</a>
<a href=../../tags/git>git [5]</a>
<a href=../../tags/http>http [5]</a>
<a href=../../tags/leby>leby [5]</a>
<a href=../../tags/string>string [5]</a>
<a href=../../tags/ansible>ansible [4]</a>
<a href=../../tags/curl>curl [4]</a>
<a href=../../tags/inspiration>inspiration [4]</a>
<a href=../../tags/random>random [4]</a>
<a href=../../tags/system>system [4]</a>
<a href=../../tags/tool>tool [4]</a></div></div></div><footer class=footer><div class=container><div class=row><div class="col-md-6 col-sm-6 text-center text-lg-left">2019 &copy; KhanhIceTea - Licensed under CC BY-NC-ND 3.0 | In God We Trust</div><div class="col-md-6 col-sm-6 text-center text-lg-right">Powered by <a href=http://gohugo.io target=_blank>Hugo</a> and <a target=_blank href=https://www.wowthemes.net>Mediumish</a> by WowThemes.net</div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.6/typed.min.js></script><script src=../../js/sqdiagram.js></script><script src=../../js/mediumish.js></script><script src=../../js/highlight.js></script><script src=../../js/polyfill.min.js></script><script>$(document).ready(function(){hljs.configure({tabReplace:'    '});$('.article-post pre code').each(function(i,block){hljs.highlightBlock(block);});$(".article-post p").has("img").css('text-align',"center");$(".article-post a").attr('target','_blank');$(".article-post table").addClass('table').addClass('table-bordered');$(".sqdiagram").sequenceDiagram({theme:'hand'});if(window.typedString){var typed=new Typed('#currentStatus',{strings:window.typedString,typeSpeed:70,startDelay:500,showCursor:true,cursorChar:'_',autoInsertCss:true,onComplete:function(){console.log('ok');$('#currentStatus a').click(function(e){var link=$(this).attr('href');e.preventDefault();ga('send','event','Timeline','click_link',link);setTimeout(function(){window.location=link;},100);});}});}});</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-50390703-1','auto');jQuery.ajax({url:"https://extreme-ip-lookup.com/json/",jsonp:"callback",dataType:"jsonp",success:function(geoip){ga('set','dimension1',geoip.query);ga('set','dimension2',geoip.city+' - '+geoip.country);ga('send','pageview');setInterval(function(){ga('send','pageview');},60000);}});</script></body></html>