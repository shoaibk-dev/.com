+++
date = "2018-03-25T00:00:00"
title = "#TIL 2018-03-25 : til, sysadmin, string, file"
description = "I learned in 2018-03-25 about Create a sequence of numbers; Cut file content from line to line; Prepend line number to file"
categories = ["Today I learned", "sysadmin"]
tags = ["til", "sysadmin", "string", "file"]
+++


# SYSADMIN

## Create a sequence of numbers

In the past, every time I want to create a sequence of numbers. I have to use something like MS EXCEL, then copy it and paste to text editor. It's tricky way and slow !

Now, I can use the handy tool `seq` to achieve that

`man seq`

```
SEQ(1)                                          User Commands                                         SEQ(1)            

NAME                          
       seq - print a sequence of numbers                    

SYNOPSIS                      
       seq [OPTION]... LAST   
       seq [OPTION]... FIRST LAST                           
       seq [OPTION]... FIRST INCREMENT LAST                 

DESCRIPTION                   
       Print numbers from FIRST to LAST, in steps of INCREMENT.                                                         

       Mandatory arguments to long options are mandatory for short options too.                                         

       -f, --format=FORMAT    
              use printf style floating-point FORMAT        

       -s, --separator=STRING 
              use STRING to separate numbers (default: \n)  

       -w, --equal-width      
              equalize width by padding with leading zeroes
```

So we have 3 main arguments (same as for loop) :

- FIRST
- INCREMENT
- LAST

And 3 options :

- format : you can use string format like `This is number %g`
- separetor : default is new line
- equal width : padding with leading zeroes

Example :

```bash
$ seq -f"This is number %g" 3 4 20
This is number 3              
This is number 7              
This is number 11             
This is number 15             
This is number 19
```

```bash
$ sed -w -s", " 10
01, 02, 03, 04, 05, 06, 07, 08, 09, 10
```

# SYSADMIN

## Cut file content from line to line

In case you have a big file which contains a lot of content (2+ GB). And you only need a small part from the file (the part is continuous string from line X to line Y).

You have many ways to achieve that :

1. Use `vi` editor and delete from line 1 to line (X-1) by press `[X-1]dd` then go to line (Y-X+2) and delete to last line by press `dG`
2. Use `sed -n '[X][Y]p' [input_file] > [output_file]`. Example : `sed -n '15,68p' a.sql > b.sql`
3. Use `head` and `tail` trick : `head -n[Y] [input_file] | tail -n[Y-X+1] > [output_file]`

I personally recommend using the `sed` way, it's faster and simpler to remember.

# SYSADMIN

## Prepend line number to file

When you want to prepend **line number** in every line of file, use the `-n` flag of `cat` tool.

Example :

`cat -n a.txt`

Or even from many file

`cat -n a.txt b.txt c.txt`
